import datetime
import math
import base64

from pnytter import TwitterTweet
from pnytter.utils import Const


class GetTweetsYearprogress:
    username = "year_progress"
    filter_from = "2022-01-04"
    filter_to = "2022-06-28"
    expected_result = [TwitterTweet(tweet_id=1540560429335908353, author='year_progress',
                                    created_on=datetime.datetime(2022, 6, 25, 5, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓▓░░░░░░░░ 48%'),
                       TwitterTweet(tweet_id=1539246778041745409, author='year_progress',
                                    created_on=datetime.datetime(2022, 6, 21, 14, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓▓░░░░░░░░ 47%'),
                       TwitterTweet(tweet_id=1537918020118491136, author='year_progress',
                                    created_on=datetime.datetime(2022, 6, 17, 22, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓▓░░░░░░░░ 46%'),
                       TwitterTweet(tweet_id=1536589258370297856, author='year_progress',
                                    created_on=datetime.datetime(2022, 6, 14, 6, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓▓░░░░░░░░ 45%'),
                       TwitterTweet(tweet_id=1535275600482816000, author='year_progress',
                                    created_on=datetime.datetime(2022, 6, 10, 15, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓▓░░░░░░░░ 44%'),
                       TwitterTweet(tweet_id=1533946844497199104, author='year_progress',
                                    created_on=datetime.datetime(2022, 6, 6, 23, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓░░░░░░░░░ 43%'),
                       TwitterTweet(tweet_id=1532633192020205570, author='year_progress',
                                    created_on=datetime.datetime(2022, 6, 3, 8, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓░░░░░░░░░ 42%'),
                       TwitterTweet(tweet_id=1531304440162033669, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 30, 16, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓░░░░░░░░░ 41%'),
                       TwitterTweet(tweet_id=1529975694427668481, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 27, 0, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓░░░░░░░░░ 40%'),
                       TwitterTweet(tweet_id=1528662030105956355, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 23, 9, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓░░░░░░░░░ 39%'),
                       TwitterTweet(tweet_id=1527333269263425537, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 19, 17, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓░░░░░░░░░ 38%'),
                       TwitterTweet(tweet_id=1526019612739092482, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 16, 2, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓▓░░░░░░░░░ 37%'),
                       TwitterTweet(tweet_id=1524690867876945920, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 12, 10, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓░░░░░░░░░░ 36%'),
                       TwitterTweet(tweet_id=1523362102827962370, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 8, 18, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓░░░░░░░░░░ 35%'),
                       TwitterTweet(tweet_id=1522048455669133313, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 5, 3, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓░░░░░░░░░░ 34%'),
                       TwitterTweet(tweet_id=1520719702296829953, author='year_progress',
                                    created_on=datetime.datetime(2022, 5, 1, 11, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓░░░░░░░░░░ 33%'),
                       TwitterTweet(tweet_id=1519406038415462400, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 27, 20, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓░░░░░░░░░░ 32%'),
                       TwitterTweet(tweet_id=1518077277489270785, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 24, 4, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓░░░░░░░░░░ 31%'),
                       TwitterTweet(tweet_id=1516748523458514956, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 20, 12, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓▓░░░░░░░░░░ 30%'),
                       TwitterTweet(tweet_id=1515434872327843841, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 16, 21, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓░░░░░░░░░░░ 29%'),
                       TwitterTweet(tweet_id=1514106119383359496, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 13, 5, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓░░░░░░░░░░░ 28%'),
                       TwitterTweet(tweet_id=1512792456886362113, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 9, 14, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓░░░░░░░░░░░ 27%'),
                       TwitterTweet(tweet_id=1511463699281756163, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 5, 22, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓░░░░░░░░░░░ 26%'),
                       TwitterTweet(tweet_id=1510979561009426438, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 4, 13, 56, tzinfo=datetime.timezone.utc),
                                    text="I don't understand. How would you represent 25% with 15 block characters? It's just rounding to the nearest."),
                       TwitterTweet(tweet_id=1510134952658182144, author='year_progress',
                                    created_on=datetime.datetime(2022, 4, 2, 6, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓░░░░░░░░░░░ 25%'),
                       TwitterTweet(tweet_id=1508821297433919491, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 29, 15, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓▓░░░░░░░░░░░ 24%'),
                       TwitterTweet(tweet_id=1507492540542562304, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 25, 23, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓░░░░░░░░░░░░ 23%'),
                       TwitterTweet(tweet_id=1506178882566864897, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 22, 8, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓░░░░░░░░░░░░ 22%'),
                       TwitterTweet(tweet_id=1504865222602985484, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 18, 17, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓░░░░░░░░░░░░ 21%'),
                       TwitterTweet(tweet_id=1503521366687027202, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 15, 0, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓░░░░░░░░░░░░ 20%'),
                       TwitterTweet(tweet_id=1502207708023377926, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 11, 9, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓░░░░░░░░░░░░ 19%'),
                       TwitterTweet(tweet_id=1500878958522511369, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 7, 17, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓░░░░░░░░░░░░ 18%'),
                       TwitterTweet(tweet_id=1499565304288096257, author='year_progress',
                                    created_on=datetime.datetime(2022, 3, 4, 2, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓▓░░░░░░░░░░░░ 17%'),
                       TwitterTweet(tweet_id=1498236551733596160, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 28, 10, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓░░░░░░░░░░░░░ 16%'),
                       TwitterTweet(tweet_id=1496907797790965761, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 24, 18, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓░░░░░░░░░░░░░ 15%'),
                       TwitterTweet(tweet_id=1495594132064116737, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 21, 3, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓░░░░░░░░░░░░░ 14%'),
                       TwitterTweet(tweet_id=1494265376909180929, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 17, 11, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓░░░░░░░░░░░░░ 13%'),
                       TwitterTweet(tweet_id=1492951726080544772, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 13, 20, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓░░░░░░░░░░░░░ 12%'),
                       TwitterTweet(tweet_id=1491622965125038084, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 10, 4, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓░░░░░░░░░░░░░ 11%'),
                       TwitterTweet(tweet_id=1490294212050440204, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 6, 12, 0, tzinfo=datetime.timezone.utc),
                                    text='▓▓░░░░░░░░░░░░░ 10%'),
                       TwitterTweet(tweet_id=1488980553554706442, author='year_progress',
                                    created_on=datetime.datetime(2022, 2, 2, 21, 0, tzinfo=datetime.timezone.utc),
                                    text='▓░░░░░░░░░░░░░░ 9%'),
                       TwitterTweet(tweet_id=1487651800656367621, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 30, 5, 0, tzinfo=datetime.timezone.utc),
                                    text='▓░░░░░░░░░░░░░░ 8%'),
                       TwitterTweet(tweet_id=1486338145385959429, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 26, 14, 0, tzinfo=datetime.timezone.utc),
                                    text='▓░░░░░░░░░░░░░░ 7%'),
                       TwitterTweet(tweet_id=1485009385403437057, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 22, 22, 0, tzinfo=datetime.timezone.utc),
                                    text='▓░░░░░░░░░░░░░░ 6%'),
                       TwitterTweet(tweet_id=1483680635558453248, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 19, 6, 0, tzinfo=datetime.timezone.utc),
                                    text='▓░░░░░░░░░░░░░░ 5%'),
                       TwitterTweet(tweet_id=1482366981122797570, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 15, 15, 0, tzinfo=datetime.timezone.utc),
                                    text='▓░░░░░░░░░░░░░░ 4%'),
                       TwitterTweet(tweet_id=1481038240790593538, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 11, 23, 0, tzinfo=datetime.timezone.utc),
                                    text='░░░░░░░░░░░░░░░ 3%'),
                       TwitterTweet(tweet_id=1479724568273211392, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 8, 8, 0, tzinfo=datetime.timezone.utc),
                                    text='░░░░░░░░░░░░░░░ 2%'),
                       TwitterTweet(tweet_id=1478395814053568512, author='year_progress',
                                    created_on=datetime.datetime(2022, 1, 4, 16, 0, tzinfo=datetime.timezone.utc),
                                    text='░░░░░░░░░░░░░░░ 1%')]
    expected_pages = math.ceil(len(expected_result) / Const.Nitter.tweets_per_page)


NonExistingTweetId = "1549959479621324805"


GermanyBlockedTweet = TwitterTweet(
    tweet_id=1168900522092441600,
    author='ShahakShapira',
    created_on=datetime.datetime(2019, 9, 3, 14, 56, tzinfo=datetime.timezone.utc),
    text=base64.b64decode(b'S2lzcyBteSBibGFjayBhc3MgaWhyIEZhc2Noby3DnGJlcnNlaGVyLg==').decode()
)
